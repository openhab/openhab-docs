<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  



  <!--<link rel="shortcut icon" href="https://www.openhab.org/favicon.png"></link>-->
  <title>openHAB 2 - Empowering the Smart Home</title>

  <!-- CSS -->
  <link type="text/css" rel="stylesheet" href="/v2.1/css/materialize.css" media="screen,projection" />
  <link type="text/css" rel="stylesheet" href="/v2.1/css/pygments-jekyll-style.css" />
  <link type="text/css" rel="stylesheet" href="/v2.1/css/styles.css" />
  <link type="text/css" rel="stylesheet" href="/v2.1/css/openhab.css" />
  <link type="text/css" rel="stylesheet" href="/v2.1/css/collapsible.css" />

  <!-- Font -->
  <link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
  <link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700" />
  <link rel="canonical" href="http://docs.openhab.org/tutorials/beginner/sitemap.html" />
  <script type="text/javascript">var gaProperty = 'UA-47717934-3';var disableStr = 'ga-disable-' + gaProperty;if (document.cookie.indexOf(disableStr + '=true') > -1) {window[disableStr] = true;}</script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-47717934-3', 'auto');
  ga('set', 'anonymizeIp', true);
  ga('send', 'pageview');
  </script>
</head>


<body class="documentation">
  <div id="header" class="navbar-fixed">
    <nav role="navigation">
      <div class="container">
        <div class="nav-wrapper">
          <a href="/v2.1/index.html"><img id="logo" src="/images/logo.png" /></a>
          <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
          <ul class="right hide-on-med-and-down">
            <li><a href="/tutorials/index.html">Tutorials</a></li>
            <li><a href="/v2.1/introduction.html">User Manual</a></li>
            <li><a href="/developers/index.html">Developer Guide</a></li>
            <li><a target="_blank" href="https://community.openhab.org">Community Forum</a></li>
            <li><a target="_blank" href="https://github.com/openhab">GitHub</a></li>
            <li class="search"><i class="material-icons">search</i></li>
            <li class="search">
              <form method="GET" id="searchform" class="search-form" action="/search">
                <input id="query" name="q" type="text" class="search-form-input" placeholder="search" />
              </form>
            </li>
          </ul>
          <ul id="nav-mobile" class="side-nav">
            <li><a href="/v2.1/index.html">Home</a></li>
            <li><a href="/tutorials/index.html">Tutorials</a></li>
            <li><a href="/v2.1/introduction.html">User Manual</a></li>
            <li><a href="/developers/index.html">Developer Guide</a></li>
            <li><a target="_blank" href="https://community.openhab.org">Community Forum</a></li>
            <li><a target="_blank" href="https://github.com/openhab">GitHub</a></li>
            <li class="search">
              <form method="GET" id="searchformmob" class="search-form" action="/search">
                <input id="querymob" name="q" type="text" class="search-form-input" placeholder="search" />
              </form>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </div>


<section id="documentation" class="text content-wrapper">
  <div class="container">
    <div class="side-nav-wrapper">
      





<ul class="nav">
  <li>Tutorial (Beginner)</li>
  <ul>
    <li><a href="/v2.1/tutorials/beginner/index.html">Overview</a></li>
    <li><a href="/v2.1/tutorials/beginner/1sttimesetup.html">First-time setup</a></li>
    <li><a href="/v2.1/tutorials/beginner/uis.html">User Interfaces</a></li>
    <li><a href="/v2.1/tutorials/beginner/configuration.html">Configuring openHAB and installing add-ons</a></li>
    <li><a href="/v2.1/tutorials/beginner/sitemap.html">Creating a sitemap</a></li>
    <li><a href="/v2.1/tutorials/beginner/rules.html">Working with rules</a></li>
    <li><a href="/v2.1/tutorials/beginner/logs.html">Looking to the logs</a></li>
    <li><a href="/v2.1/tutorials/beginner/persistence.html">Working with persistence</a></li>
  </ul>
</ul>

    </div>
    <div class="content">
      
<h1 id="creating-a-sitemap">Creating a sitemap</h1>

<p>Controlling your things via Paper UI is nice, but currently you can sort them only by editing the “Location” in the thing configuration. If you want to create your own view you can use a so called “sitemap” which can be displayed in the Basic UI (you remember, it was automatically installed at the beginning).</p>

<p>But before that, you have to create an items file. Both the items and the sitemap files are edited in your editor of choice. The files’ location is in the “conf” directory of openHAB:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conf/items    &lt;<span class="nt">--</span> <span class="k">*</span>.items files
conf/sitemaps &lt;<span class="nt">--</span> <span class="k">*</span>.sitemap files
</code></pre></div></div>

<p>After a fresh installation these directories are empty (except for the readme files), so you have to create a file there. We’ll use “default.items” as the items file and “default.sitemap” as the sitemap file in this tutorial.</p>

<p><strong>In fact, you can have multiple .items files to sort your items logically, for example lamps.items, contacts.items, network.items etc.</strong>
<strong>As long as the file extension is .items, it’s definitions will be loaded in openHAB. The same applies to .sitemap and .rules files as well</strong></p>

<p>So we create the files:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>conf/items/default.items
conf/sitemaps/default.sitemap
</code></pre></div></div>

<p>Let’s start small.</p>

<p>Open the default.items file and define your first item:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Switch Presence_Mobile_John <span class="s2">"Johns Mobile"</span> &lt;network&gt; <span class="o">{</span> <span class="nv">channel</span><span class="o">=</span><span class="s2">"network:device:192_168_1_103:online"</span> <span class="o">}</span>
</code></pre></div></div>

<p><em>Note: Item names have to be unique! You should follow a certain naming convention concerning your items. In this example, we used the purpose of the item, “Presence”, followed by the device type, “_Mobile”, and finally the owner’s name, “_John”, to construct the final item name. Another suggestion for different items, for example a wallplug which is plugged-in in the living room in the first floor providing power to a TV, is to use the type, the floor, the room and the usage of the item. In this case it would be “Wallplug_FF_LR_TV”.</em></p>

<p>The syntax is as follows:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ItemType ItemName <span class="s2">"ItemDescription"</span> &lt;ItemIcon&gt; <span class="o">{</span> ItemToThingChannelLink <span class="o">}</span>
</code></pre></div></div>

<p>You can find a detailled overview of the different item types <a href="/v2.1/configuration/items.html">here</a></p>

<p>In this example we use “Switch” as the item’s type. This results in a slider which is either turned on or turned off.</p>

<p><strong>Important: the item’s name has to be unique!</strong></p>

<p>Feel free to choose an appropriate description for your item.</p>

<p><strong>More information about available icons can be found <a href="/v2.1/configuration/items.html#icons">here</a></strong></p>

<p>Now to the item-to-thing-channel link: the channel id is always visible in Paper UI when you edit a thing. As you can see in the screenshot from above where I linked the two channels of the network thing, I used the channel id of the “Online” channel in the definition above:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>network:device:192_168_1_103:online
</code></pre></div></div>

<p><em>Again, for most of the bindings this is the way of adding an item in the .items file:</em></p>

<p><em>browse to your Paper UI, go to “Configuration -&gt; Things”, click on the thing you want to add, find the channel of the thing you want to add, copy the channel id and use it in your .items file</em></p>

<p>To see the status of the wallplug, you have to add it to default.items too. First you have to look for the channel id in Paper UI:</p>

<p><img src="images/picture_23.jpg" alt="" /></p>

<p>Then we add the item to default.items, this is what it looks like afterwards:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Switch Presence_Mobile_John <span class="s2">"John's Mobile"</span> &lt;network&gt; <span class="o">{</span> <span class="nv">channel</span><span class="o">=</span><span class="s2">"network:device:192_168_1_103:online"</span> <span class="o">}</span>

Switch Wallplug_FF_LR_TV <span class="s2">"Wallplug TV"</span> &lt;poweroutlet&gt; <span class="o">{</span> <span class="nv">channel</span><span class="o">=</span><span class="s2">"zwave:device:bb4d2b80:node30:switch_binary"</span> <span class="o">}</span>
</code></pre></div></div>

<p>This means that you’ll get a slider for the wallplug, indicating if it’s turned on or off, with the poweroutlet icon.</p>

<p>To be able to actually see it in the “Basic UI” we have to create a sitemap. The sitemap basically defines the layout of the UI page. The syntax is quite easy, here is a simple setup of the previously created default.sitemap file:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sitemap default <span class="nv">label</span><span class="o">=</span><span class="s2">"My first sitemap"</span>
<span class="o">{</span>
    Switch <span class="nv">item</span><span class="o">=</span>Presence_Mobile_John <span class="nv">label</span><span class="o">=</span><span class="s2">"John's Mobile"</span>
    Switch <span class="nv">item</span><span class="o">=</span>Wallplug_FF_LR_TV <span class="nv">label</span><span class="o">=</span><span class="s2">"Wallplug TV"</span>
<span class="o">}</span>
</code></pre></div></div>

<p>A sitemap file always starts with “sitemap”, followed by the sitemap’s internal name (if your sitemap file is “default.sitemap”, the sitemap name has to be “default”! Otherwise openHAB will complain in the log). The “label” is the title of the sitemap, it’s shown in your browser’s titlebar/tab and on the sitemap page itself.
Next comes the block with the actual items you want to show on your sitemap. Here you can see the two items we added to the default.items file earlier.
The syntax is again pretty straight:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ItemType <span class="nv">item</span><span class="o">=</span>ItemName <span class="nv">label</span><span class="o">=</span><span class="s2">"Description of the item shown on the webpage"</span>
</code></pre></div></div>

<p>where ItemType and ItemName must be the same as defined in default.items</p>

<p>One last thing to do is setting the default sitemap for the “Basic UI” via “Paper UI”. Browse to “Configuration -&gt; Services” in Paper UI and click the “Configure” button of Paper UI</p>

<p><img src="images/picture_24.jpg" alt="" /></p>

<p>Now set the default sitemap to “default”, which is the sitemap name we defined earlier in default.sitemap and click the “SAVE” button.</p>

<p><img src="images/picture_25.jpg" alt="" /></p>

<p>To finally see the result, browse to the initial openHAB start page (http://IP-of-your-machine:8080) and click on the “Basic UI” link.</p>

<p><img src="images/picture_03.jpg" alt="" /></p>

<p>Enjoy your first sitemap :)</p>

<p><img src="images/picture_26.jpg" alt="" /></p>

<p>On the next page, we want to create a simple rule. Please proceed to <a href="/v2.1/tutorials/beginner/rules.html">the rules page</a></p>

    </div>
  </div>
</section>






<footer>
  <div class="container">
    <div class="row">
        <div class="col s12 m7">
            Copyright &copy; 2017 by the <a href="https://github.com/openhab">openHAB Community</a> and the <a href="http://www.openhabfoundation.org/">openHAB&nbsp;Foundation&nbsp;e.V.</a>
        </div>
        <div class="col s12 m5">
            <ul class="list-inline right-align">
               <li><a href="/imprint.html">Imprint</a></li>
               <li><a href="/privacy.html">Privacy Policy</a></li>
               <li><a href="http://www.openhab.org">openHAB Website</a></li>
            </ul>
        </div>
    </div>
  </div>
</footer>
<script src="/v2.1/js/jquery.min.js"></script>
<script src="/v2.1/js/jquery.scrollme.min.js"></script>
<script src="/v2.1/js/jquery.sticky.js"></script>
<script src="/v2.1/js/materialize.min.js"></script>
<script src="/v2.1/js/init.js"></script>

<script>
$(document).ready(function () {

    $('#oh2-checkbox').change(function () {
        if (this.checked) $('.since-2x').show('slow');
        else $('.source-oh2').hide('slow');
    });

    $('#oh1-checkbox').change(function () {
        if (this.checked) $('.since-1x').show('slow');
        else $('.source-oh1').hide('slow');
    });

    $('#legacy-checkbox').change(function () {
        if (this.checked) $('.install-legacy').show('slow');
        else $('.install-legacy').hide('slow');
    });

    $('#manual-checkbox').change(function () {
        if (this.checked) $('.install-manual').show('slow');
        else $('.install-manual').hide('slow');
    });

});
</script>

</body>
</html>

